<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Waseda Mental Clinic - 24H Management Clock</title>
    <style>
        body { margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; background: #222; overflow: hidden; }
        svg { width: 90vmin; height: 90vmin; font-family: 'Helvetica Neue', Arial, sans-serif; }
        .second-dot { fill: rgba(255, 255, 255, 0.3); }
        .second-dot.active { fill: #e74c3c; filter: drop-shadow(0 0 2px #e74c3c); }
        #second-hand { transition: transform 0.1s cubic-bezier(0.175, 0.885, 0.32, 1.2); }
    </style>
</head>
<body>

<svg viewBox="0 0 1000 1000">
    <defs>
        <linearGradient id="bg" x1="0" y1="0" x2="0" y2="1">
            <stop offset="50%" stop-color="#001F3F" /> <stop offset="50%" stop-color="#F5F5DC" /> </linearGradient>
    </defs>
    
    <circle cx="500" cy="500" r="495" fill="url(#bg)" stroke="#111" stroke-width="2"/>
    
    <g id="ticks"></g>
    <g id="numbers"></g>

    <text x="500" y="680" text-anchor="middle" font-size="32" font-weight="bold" fill="#001F3F" opacity="0.8">早稲田メンタルクリニック</text>

    <g id="hands">
        <line id="hour-hand" x1="500" y1="500" x2="500" y2="280" stroke="#111" stroke-width="12" stroke-linecap="round" />
        <line id="minute-hand" x1="500" y1="500" x2="500" y2="150" stroke="#111" stroke-width="8" stroke-linecap="round" />
        <line id="second-hand" x1="500" y1="550" x2="500" y2="100" stroke="#e74c3c" stroke-width="3" stroke-linecap="round" />
        <circle cx="500" cy="500" r="10" fill="#111" />
    </g>
</svg>

<script>
    const ticksG = document.getElementById('ticks');
    const numsG = document.getElementById('numbers');

    // 1. 秒ドット（60個）の生成
    for (let i = 0; i < 60; i++) {
        const angle = (i * 6) * (Math.PI / 180);
        const x = 500 + 470 * Math.sin(angle);
        const y = 500 - 470 * Math.cos(angle);
        const dot = document.createElementNS("http://www.w3.org/2000/svg", "circle");
        dot.setAttribute("cx", x);
        dot.setAttribute("cy", y);
        dot.setAttribute("r", i % 5 === 0 ? "4" : "2");
        dot.setAttribute("class", "second-dot");
        dot.id = `dot-${i}`;
        ticksG.appendChild(dot);
    }

    // 2. 24時間数字の配置（3時=6, 6時=9, 12時=18...の24時間計配置を正確に）
    for (let i = 1; i <= 24; i++) {
        const angle = (i * 15) * (Math.PI / 180);
        const x = 500 + 410 * Math.sin(angle);
        const y = 500 - 410 * Math.cos(angle);
        const t = document.createElementNS("http://www.w3.org/2000/svg", "text");
        t.setAttribute("x", x);
        t.setAttribute("y", y);
        t.setAttribute("text-anchor", "middle");
        t.setAttribute("dominant-baseline", "central");
        t.setAttribute("font-size", "36");
        t.setAttribute("font-weight", "bold");
        // 上半分(19-24, 1-6)は白、下半分(7-18)はネイビー
        t.setAttribute("fill", (i <= 6 || i >= 19) ? "#FFFFFF" : "#001F3F");
        t.textContent = i;
        numsG.appendChild(t);
    }

    let lastSec = -1;

    function update() {
        const now = new Date();
        const s = now.getSeconds();
        const m = now.getMinutes();
        const h = now.getHours();

        // 針の回転計算（24時間計）
        const sDeg = s * 6;
        const mDeg = (m * 6) + (s * 0.1);
        const hDeg = (h % 24 * 15) + (m * 0.25);

        document.getElementById('second-hand').setAttribute("transform", `rotate(${sDeg} 500 500)`);
        document.getElementById('minute-hand').setAttribute("transform", `rotate(${mDeg} 500 500)`);
        document.getElementById('hour-hand').setAttribute("transform", `rotate(${hDeg} 500 500)`);

        // 秒ドットのアクティブ化
        if (s !== lastSec) {
            document.querySelectorAll('.second-dot').forEach(d => d.classList.remove('active'));
            document.getElementById(`dot-${s}`).classList.add('active');
            lastSec = s;
        }
    }

    // 1秒ごとの正確な更新（チクタク）
    setInterval(update, 1000);
    update();
</script>
</body>
</html>
